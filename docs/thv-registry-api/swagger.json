{
    "components": {"schemas":{"github_com_stacklok_toolhive-registry-server_internal_service.RegistryInfo":{"properties":{"createdAt":{"type":"string"},"name":{"type":"string"},"syncStatus":{"$ref":"#/components/schemas/github_com_stacklok_toolhive-registry-server_internal_service.RegistrySyncStatus"},"type":{"description":"MANAGED, FILE, REMOTE","type":"string"},"updatedAt":{"type":"string"}},"type":"object"},"github_com_stacklok_toolhive-registry-server_internal_service.RegistryListResponse":{"properties":{"registries":{"items":{"$ref":"#/components/schemas/github_com_stacklok_toolhive-registry-server_internal_service.RegistryInfo"},"type":"array","uniqueItems":false}},"type":"object"},"github_com_stacklok_toolhive-registry-server_internal_service.RegistrySyncStatus":{"properties":{"attemptCount":{"description":"Number of sync attempts","type":"integer"},"lastAttempt":{"description":"Last sync attempt","type":"string"},"lastSyncTime":{"description":"Last successful sync","type":"string"},"message":{"description":"Status or error message","type":"string"},"phase":{"description":"complete, syncing, failed","type":"string"},"serverCount":{"description":"Number of servers in registry","type":"integer"}},"type":"object"},"model.Argument":{"properties":{"choices":{"items":{"type":"string"},"type":"array","uniqueItems":false},"default":{"type":"string"},"description":{"type":"string"},"format":{"$ref":"#/components/schemas/model.Format"},"isRepeated":{"type":"boolean"},"isRequired":{"type":"boolean"},"isSecret":{"type":"boolean"},"name":{"example":"--port","type":"string"},"placeholder":{"type":"string"},"type":{"$ref":"#/components/schemas/model.ArgumentType"},"value":{"type":"string"},"valueHint":{"example":"file_path","type":"string"},"variables":{"additionalProperties":{"$ref":"#/components/schemas/model.Input"},"type":"object"}},"type":"object"},"model.ArgumentType":{"example":"positional","type":"string","x-enum-varnames":["ArgumentTypePositional","ArgumentTypeNamed"]},"model.Format":{"type":"string","x-enum-varnames":["FormatString","FormatNumber","FormatBoolean","FormatFilePath"]},"model.Icon":{"properties":{"mimeType":{"example":"image/png","type":"string"},"sizes":{"items":{"type":"string"},"type":"array","uniqueItems":false},"src":{"example":"https://example.com/icon.png","format":"uri","maxLength":255,"type":"string"},"theme":{"type":"string"}},"type":"object"},"model.Input":{"properties":{"choices":{"items":{"type":"string"},"type":"array","uniqueItems":false},"default":{"type":"string"},"description":{"type":"string"},"format":{"$ref":"#/components/schemas/model.Format"},"isRequired":{"type":"boolean"},"isSecret":{"type":"boolean"},"placeholder":{"type":"string"},"value":{"type":"string"}},"type":"object"},"model.KeyValueInput":{"properties":{"choices":{"items":{"type":"string"},"type":"array","uniqueItems":false},"default":{"type":"string"},"description":{"type":"string"},"format":{"$ref":"#/components/schemas/model.Format"},"isRequired":{"type":"boolean"},"isSecret":{"type":"boolean"},"name":{"example":"SOME_VARIABLE","type":"string"},"placeholder":{"type":"string"},"value":{"type":"string"},"variables":{"additionalProperties":{"$ref":"#/components/schemas/model.Input"},"type":"object"}},"type":"object"},"model.Package":{"properties":{"environmentVariables":{"description":"EnvironmentVariables are set when running the package","items":{"$ref":"#/components/schemas/model.KeyValueInput"},"type":"array","uniqueItems":false},"fileSha256":{"description":"FileSHA256 is the SHA-256 hash for integrity verification (required for mcpb, optional for others)","example":"fe333e598595000ae021bd27117db32ec69af6987f507ba7a63c90638ff633ce","pattern":"^[a-f0-9]{64}$","type":"string"},"identifier":{"description":"Identifier is the package identifier:\n  - For NPM/PyPI/NuGet: package name or ID\n  - For OCI: full image reference (e.g., \"ghcr.io/owner/repo:v1.0.0\")\n  - For MCPB: direct download URL","example":"@modelcontextprotocol/server-brave-search","minLength":1,"type":"string"},"packageArguments":{"description":"PackageArguments are passed to the package's binary","items":{"$ref":"#/components/schemas/model.Argument"},"type":"array","uniqueItems":false},"registryBaseUrl":{"description":"RegistryBaseURL is the base URL of the package registry (used by npm, pypi, nuget; not used by oci, mcpb)","example":"https://registry.npmjs.org","format":"uri","type":"string"},"registryType":{"description":"RegistryType indicates how to download packages (e.g., \"npm\", \"pypi\", \"oci\", \"nuget\", \"mcpb\")","example":"npm","minLength":1,"type":"string"},"runtimeArguments":{"description":"RuntimeArguments are passed to the package's runtime command (e.g., docker, npx)","items":{"$ref":"#/components/schemas/model.Argument"},"type":"array","uniqueItems":false},"runtimeHint":{"description":"RunTimeHint suggests the appropriate runtime for the package","example":"npx","type":"string"},"transport":{"$ref":"#/components/schemas/model.Transport"},"version":{"description":"Version is the package version (required for npm, pypi, nuget; optional for mcpb; not used by oci where version is in the identifier)","example":"1.0.2","minLength":1,"type":"string"}},"type":"object"},"model.Repository":{"properties":{"id":{"example":"b94b5f7e-c7c6-d760-2c78-a5e9b8a5b8c9","type":"string"},"source":{"example":"github","type":"string"},"subfolder":{"example":"src/everything","type":"string"},"url":{"example":"https://github.com/modelcontextprotocol/servers","format":"uri","type":"string"}},"type":"object"},"model.Status":{"type":"string","x-enum-varnames":["StatusActive","StatusDeprecated","StatusDeleted"]},"model.Transport":{"description":"Transport is required and specifies the transport protocol configuration","properties":{"headers":{"items":{"$ref":"#/components/schemas/model.KeyValueInput"},"type":"array","uniqueItems":false},"type":{"example":"stdio","type":"string"},"url":{"example":"https://api.example.com/mcp","type":"string"}},"type":"object"},"v0.Metadata":{"properties":{"count":{"type":"integer"},"nextCursor":{"type":"string"}},"type":"object"},"v0.RegistryExtensions":{"properties":{"isLatest":{"type":"boolean"},"publishedAt":{"format":"date-time","type":"string"},"status":{"$ref":"#/components/schemas/model.Status"},"updatedAt":{"format":"date-time","type":"string"}},"type":"object"},"v0.ResponseMeta":{"properties":{"io.modelcontextprotocol.registry/official":{"$ref":"#/components/schemas/v0.RegistryExtensions"}},"type":"object"},"v0.ServerJSON":{"properties":{"$schema":{"example":"https://static.modelcontextprotocol.io/schemas/2025-10-17/server.schema.json","format":"uri","minLength":1,"type":"string"},"_meta":{"$ref":"#/components/schemas/v0.ServerMeta"},"description":{"example":"MCP server providing weather data and forecasts via OpenWeatherMap API","maxLength":100,"minLength":1,"type":"string"},"icons":{"items":{"$ref":"#/components/schemas/model.Icon"},"type":"array","uniqueItems":false},"name":{"example":"io.github.user/weather","maxLength":200,"minLength":3,"pattern":"^[a-zA-Z0-9.-]+/[a-zA-Z0-9._-]+$","type":"string"},"packages":{"items":{"$ref":"#/components/schemas/model.Package"},"type":"array","uniqueItems":false},"remotes":{"items":{"$ref":"#/components/schemas/model.Transport"},"type":"array","uniqueItems":false},"repository":{"$ref":"#/components/schemas/model.Repository"},"title":{"example":"Weather API","maxLength":100,"minLength":1,"type":"string"},"version":{"example":"1.0.2","type":"string"},"websiteUrl":{"example":"https://modelcontextprotocol.io/examples","format":"uri","type":"string"}},"type":"object"},"v0.ServerListResponse":{"properties":{"metadata":{"$ref":"#/components/schemas/v0.Metadata"},"servers":{"items":{"$ref":"#/components/schemas/v0.ServerResponse"},"type":"array","uniqueItems":false}},"type":"object"},"v0.ServerMeta":{"properties":{"io.modelcontextprotocol.registry/publisher-provided":{"additionalProperties":{},"type":"object"}},"type":"object"},"v0.ServerResponse":{"properties":{"_meta":{"$ref":"#/components/schemas/v0.ResponseMeta"},"server":{"$ref":"#/components/schemas/v0.ServerJSON"}},"type":"object"}}},
    "info": {"contact":{"url":"https://github.com/stacklok/toolhive"},"description":"API for accessing MCP server registry data and deployed server information\nThis API provides endpoints to query the MCP (Model Context Protocol) server registry,\nget information about available servers, and check the status of deployed servers.","license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"title":"ToolHive Registry API","version":"0.1"},
    "externalDocs": {"description":"","url":""},
    "paths": {"/extension/v0/registries":{"get":{"description":"List all registries","requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/github_com_stacklok_toolhive-registry-server_internal_service.RegistryListResponse"}}},"description":"List of registries"},"500":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Internal server error"}},"summary":"List registries","tags":["extension"]}},"/extension/v0/registries/{registryName}":{"delete":{"description":"Delete a registry","parameters":[{"description":"Registry Name","in":"path","name":"registryName","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"400":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Bad request"},"501":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Not implemented"}},"summary":"Delete registry","tags":["extension"]},"get":{"description":"Get a registry by name","parameters":[{"description":"Registry Name","in":"path","name":"registryName","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/github_com_stacklok_toolhive-registry-server_internal_service.RegistryInfo"}}},"description":"Registry details"},"400":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Bad request"},"404":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Registry not found"},"500":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Internal server error"},"501":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Not implemented"}},"summary":"Get registry","tags":["extension"]},"put":{"description":"Create or update a registry","parameters":[{"description":"Registry Name","in":"path","name":"registryName","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"400":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Bad request"},"501":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Not implemented"}},"summary":"Create or update registry","tags":["extension"]}},"/extension/v0/registries/{registryName}/servers/{serverName}/versions/{version}":{"put":{"description":"Create or update a server in the registry","parameters":[{"description":"Registry Name","in":"path","name":"registryName","required":true,"schema":{"type":"string"}},{"description":"URL-encoded server name (e.g., \\","in":"path","name":"serverName","required":true,"schema":{"type":"string"}},{"description":"URL-encoded version to retrieve (e.g., \\","in":"path","name":"version","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"400":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Bad request"},"501":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Not implemented"}},"summary":"Create or update server","tags":["extension"]}},"/health":{"get":{"description":"Check if the registry API is healthy","responses":{"200":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"OK"}},"summary":"Health check","tags":["system"]}},"/openapi.json":{"get":{"description":"Get the OpenAPI 3.1.0 specification for this API","responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"OpenAPI 3.1.0 specification"},"500":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Internal Server Error"}},"summary":"OpenAPI specification","tags":["system"]}},"/readiness":{"get":{"description":"Check if the registry API is ready to serve requests","responses":{"200":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"OK"},"503":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Service Unavailable"}},"summary":"Readiness check","tags":["system"]}},"/registry/v0.1/publish":{"post":{"description":"Publish a server to the registry. This server does not support publishing via this endpoint.\nUse the registry-specific endpoint /{registryName}/v0.1/publish instead.","requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"501":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Not implemented"}},"summary":"Publish server","tags":["registry","official"]}},"/registry/v0.1/servers":{"get":{"description":"Get a list of available servers in the registry","parameters":[{"description":"Pagination cursor for retrieving next set of results","in":"query","name":"cursor","schema":{"type":"string"}},{"description":"Maximum number of items to return","in":"query","name":"limit","schema":{"type":"integer"}},{"description":"Search servers by name (substring match)","in":"query","name":"search","schema":{"type":"string"}},{"description":"Filter by version ('latest' for latest version, or an exact version like '1.2.3')","in":"query","name":"version","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/v0.ServerListResponse"}}},"description":"OK"},"400":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Bad request"}},"summary":"List servers","tags":["registry","official"]}},"/registry/v0.1/servers/{serverName}/versions":{"get":{"description":"Returns all available versions for a specific MCP server, ordered by publication date (newest first)","parameters":[{"description":"URL-encoded server name (e.g., \\","in":"path","name":"serverName","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/v0.ServerListResponse"}}},"description":"A list of all versions for the server"},"400":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Bad request"},"404":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Server not found"}},"summary":"List all versions of an MCP server","tags":["registry","official"]}},"/registry/v0.1/servers/{serverName}/versions/{version}":{"get":{"description":"Returns detailed information about a specific version of an MCP server.\nUse the special version `latest` to get the latest version.","parameters":[{"description":"URL-encoded server name (e.g., \\","in":"path","name":"serverName","required":true,"schema":{"type":"string"}},{"description":"URL-encoded version to retrieve (e.g., \\","in":"path","name":"version","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/v0.ServerResponse"}}},"description":"Detailed server information"},"400":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Bad request"},"404":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Server or version not found"}},"summary":"Get specific MCP server version","tags":["registry","official"]}},"/registry/{registryName}/v0.1/servers":{"get":{"description":"Get a list of available servers in the registry","parameters":[{"description":"Registry name","in":"path","name":"registryName","required":true,"schema":{"type":"string"}},{"description":"Pagination cursor for retrieving next set of results","in":"query","name":"cursor","schema":{"type":"string"}},{"description":"Maximum number of items to return","in":"query","name":"limit","schema":{"type":"integer"}},{"description":"Search servers by name (substring match)","in":"query","name":"search","schema":{"type":"string"}},{"description":"Filter by version ('latest' for latest version, or an exact version like '1.2.3')","in":"query","name":"version","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/v0.ServerListResponse"}}},"description":"OK"},"400":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Bad request"}},"summary":"List servers","tags":["registry","official"]}},"/registry/{registryName}/v0.1/servers/{serverName}/versions":{"get":{"description":"Returns all available versions for a specific MCP server, ordered by publication date (newest first)","parameters":[{"description":"Registry name","in":"path","name":"registryName","required":true,"schema":{"type":"string"}},{"description":"URL-encoded server name (e.g., \\","in":"path","name":"serverName","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/v0.ServerListResponse"}}},"description":"A list of all versions for the server"},"400":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Bad request"},"404":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Server not found"}},"summary":"List all versions of an MCP server","tags":["registry","official"]}},"/registry/{registryName}/v0.1/servers/{serverName}/versions/{version}":{"get":{"description":"Returns detailed information about a specific version of an MCP server.\nUse the special version `latest` to get the latest version.","parameters":[{"description":"Registry name","in":"path","name":"registryName","required":true,"schema":{"type":"string"}},{"description":"URL-encoded server name (e.g., \\","in":"path","name":"serverName","required":true,"schema":{"type":"string"}},{"description":"URL-encoded version to retrieve (e.g., \\","in":"path","name":"version","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/v0.ServerResponse"}}},"description":"Detailed server information"},"400":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Bad request"},"404":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Server or version not found"}},"summary":"Get specific MCP server version","tags":["registry","official"]}},"/version":{"get":{"description":"Get version information about the registry API","responses":{"200":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"OK"}},"summary":"Version information","tags":["system"]}},"/{registryName}/v0.1/publish":{"post":{"description":"Publish a server version to a specific managed registry","parameters":[{"description":"Registry name","in":"path","name":"registryName","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/v0.ServerJSON"}}},"description":"Server data","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/v0.ServerJSON"}}},"description":"Created"},"400":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Bad request"},"403":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Not a managed registry"},"404":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Registry not found"},"409":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Version already exists"},"500":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Internal server error"}},"summary":"Publish server to specific registry","tags":["registry","official"]}},"/{registryName}/v0.1/servers/{serverName}/versions/{version}":{"delete":{"description":"Delete a server version from a specific managed registry","parameters":[{"description":"Registry name","in":"path","name":"registryName","required":true,"schema":{"type":"string"}},{"description":"Server name (URL-encoded)","in":"path","name":"serverName","required":true,"schema":{"type":"string"}},{"description":"Version (URL-encoded)","in":"path","name":"version","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"204":{"description":"No content"},"400":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Bad request"},"403":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Not a managed registry"},"404":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Server version not found"},"500":{"content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object"}}},"description":"Internal server error"}},"summary":"Delete server version from specific registry","tags":["registry","official"]}}},
    "openapi": "3.1.0",
    "tags": [
        {"description":"Registry metadata and information","name":"registry"},
        {"description":"Server discovery and metadata","name":"servers"},
        {"description":"Deployed server status and information","name":"deployed-servers"},
        {"description":"System health and version information","name":"system"}
    ]
}